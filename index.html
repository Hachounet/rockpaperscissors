<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>





<body>

<script>


// Fonctions pour obtenir le choix du PC via Math.random
function getComputerChoice() {
    let randomValue = Math.floor(Math.random() * 100);
    if (randomValue <= 33){
        return "rock";
    }
    else if (randomValue >= 66){
        return "scissors"

    }
    else {
        return "paper";
    }

}

// Déclaration de la variable utilisant la function getComputerChoice
let computerChoice

// Function to get user choice and verify his choice
function getUserChoice() {
    let textUserChoice;
    let valueUserChoice = false;
    while ( valueUserChoice === false) {
        textUserChoice = prompt("Choose your weapon ! Rock, paper or scissors ?");
        textUserChoice = textUserChoice.toLowerCase();
        if ( textUserChoice !== "rock" && textUserChoice !== "paper" && textUserChoice !== "scissors") {
        alert("You have to choose between Rock, paper and scissors.");}
        else {
            valueUserChoice = true;
            return textUserChoice;
        }
        }  
}

// Déclaration de la variable utilisant la function getUserChoice
let userChoice

// Fonction pour jouer un round
function playRound(userChoice, computerChoice) {
    console.log("C'est parti pour un nouveau round !");
    userChoice = getUserChoice();
    computerChoice = getComputerChoice();

    console.log(`You have choose ${userChoice} and I choose ${computerChoice}`);
    if (userChoice === computerChoice) {
        console.log("TIE ! New round !");
        return;
    }
    else if (userChoice === "rock" && computerChoice === "paper" ) {
        console.log(userChoice, " VS ", computerChoice);
        console.log("I've won ! One point for me !");
        return ++computerScore;
    }
    else if (userChoice === "rock" && computerChoice === "scissors") {
        console.log(userChoice, " VS ", computerChoice);
        console.log("You won ! One point for you !");
        return ++userScore;
    }
    else if (userChoice === "paper" && computerChoice === "rock") {
        console.log(userChoice, " VS ", computerChoice);
        console.log("You won ! One point for you !");
        return ++userScore;
    }
    else if (userChoice === "paper" && computerChoice === "scissors") {
        console.log(userChoice, " VS ", computerChoice);
        console.log("I've won ! One point for me !");
        return ++computerScore;
    }
    else if (userChoice === "scissors" && computerChoice === "paper") {
        console.log(userChoice, " VS ", computerChoice);
        console.log("You won ! One point for you !");
        return ++userScore;
    } 
    else {
        // Last option : scissors vs rock, computer win
        console.log(userChoice, " VS ", computerChoice);
        console.log("I've won ! One point for me !");
        return ++computerScore;
    }
}

//Declaration of variables outside of function to keep scores
let userScore = 0;
let computerScore = 0;

// Function game() who call other functions to play and take score. 
function game() {
let valueGameStarter = false;

while ( valueGameStarter !== true){ 
let textUserChoice = prompt("Wanna play the game ? Type yes to play !");
         textUserChoice = textUserChoice.toLowerCase();
        if ( textUserChoice !== "yes") {
        alert("You have to choose yes to play, and you will choose it, because that the point of this script, I mean...");}
        else {
            valueGameStarter = true;
            while ( userScore !== 5 && computerScore !== 5) {
                playRound()  
                console.log(`Ton score est de ${userScore} et le mien est de ${computerScore}`);             
        }
        if (userScore === 5 || computerScore === 5){
            console.log("La partie est terminée !")
            console.log(`/!\ Ton score final est de ${userScore} et le mien est de ${computerScore} `)
        
        }

        }  

}
}







</script>
</body>
</html>